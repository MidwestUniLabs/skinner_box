{% extends "base.html" %}

{% block head %}
    <title>Skinnerbox - Log Viewer</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/logViewer.js') }}"></script>
{% endblock %}

{% block content %}
<div id="container" class="flex-container row">
    <!-- Log List and Buttons Section -->
    <div id="log-list-section" class="flex-item log-list-section">
        
        <div id="log-list" class="log-list">
            <h3>Log List:</h3>
            <!-- Log Toggle Buttons -->
            <div class="flex-container log-buttons">
                <a id="remote-log-btn" href="javascript:showRemoteLogs();" class="log-toggle-button">Remote</a>
                <a id="local-log-btn" href="javascript:showLocalLogs();" class="log-toggle-button">Local</a>
            </div>
            
            <!-- Remote Logs (Loader) -->
            <div id="remote-logs" class="loader-section log-list-items" style="display: none;">
                <div class="bar-loader">
                    <span class="bar-loader-text">Loading...</span>
                    <span class="bar-load"></span>
                </div>
            </div>
            
            <!-- Local Logs -->
            <div id="local-logs" class="log-list-items" style="display: none;">

            </div>
        </div>

        <!-- Button Section Below Log List -->
        <div id="download-buttons" class="flex-container button-group">
            <!-- 📄 Download Raw Log -->
            <button class="cssbuttons-io-button" id="download-btn" style="display: none;" onclick="downloadFile('raw')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="none" d="M0 0h24v24H0z"></path>
                    <path fill="currentColor" d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 7V3.5L18.5 9H13zM6 20V4h7v5h5v11H6z"></path>
                </svg>
                <span>Download Raw Log</span>
            </button>

            <!-- 📊 Download Excel Log -->
            <button class="cssbuttons-io-button" id="download-excel-btn" style="display: none;" onclick="downloadFile('excel')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="none" d="M0 0h24v24H0z"></path>
                    <path fill="currentColor" d="M4 4h16v16H4z" opacity=".3"></path>
                    <path fill="currentColor" d="M4 4v16h16V4H4zm2 14V6h12v12H6zm6-5.5l-1.41-1.41-2.12 2.12-2.12-2.12L5.5 12.5l2.12 2.12-2.12 2.12L7.59 17l2.12-2.12L11.83 17l1.41-1.41-2.12-2.12 2.12-2.12z"></path>
                </svg>
                <span>Download Excel Log</span>
            </button>

            <!-- ☁️ Push Log to Cloud -->
            <button class="cssbuttons-io-button" id="push-cloud-btn" style="display: none" onclick="pushLogToCloud();">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="none" d="M0 0h24v24H0z"></path>
                    <path fill="currentColor" d="M19.35 10.04A7.49 7.49 0 0012 4 7.5 7.5 0 004.65 10.04 5.998 5.998 0 000 16c0 3.31 2.69 6 6 6h12c3.31 0 6-2.69 6-6 0-2.53-1.56-4.75-3.65-5.96zM11 13v4h2v-4h3l-4-4-4 4h3z"></path>
                </svg>
                <span>Push Log</span>
            </button>
        </div>
    </div>

    <!-- Log Viewer Section -->
    <div id="log-viewer" class="flex-item log-viewer-container">
        <div class="flex-container">
            <h3>Log Viewer:</h3>
        </div>
    </div>
</div>
<div id="toast-container"></div>
{% endblock %}



